<div class="mat-elevation-z8 w-full">
    <table mat-table [dataSource]="dataSource">
        <!-- Position Column -->
        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef>Order Id</th>
            <td mat-cell *matCellDef="let element" style="font-weight: bold">
                {{ element.orderId }}
            </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="customer">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let element">
                {{ element.office_data.fullName }}
            </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef>Email</th>
            <td mat-cell *matCellDef="let element">
                {{ element.office_data.email }}
            </td>
        </ng-container>

        <!-- phone Column -->
        <ng-container matColumnDef="phone">
            <th mat-header-cell *matHeaderCellDef>Package Name</th>
            <td mat-cell *matCellDef="let element">
                {{ element.dealServices?.packageName }}
            </td>
        </ng-container>

        <!-- bookingTime Column -->
        <ng-container matColumnDef="bookingTime">
            <th mat-header-cell *matHeaderCellDef>Booking Time</th>
            <td mat-cell *matCellDef="let element">
                {{ element.orderTime }}
            </td>
        </ng-container>

        <!-- Amount Column -->
        <ng-container matColumnDef="amount">
            <th mat-header-cell *matHeaderCellDef>Amount</th>
            <td mat-cell *matCellDef="let element">{{ element.amount }}</td>
        </ng-container>

        <!-- Payment option type Column -->
        <ng-container matColumnDef="orderFrom">
            <th mat-header-cell *matHeaderCellDef>Order From</th>
            <td mat-cell *matCellDef="let element">
                {{ element.payOptionType }}
            </td>
        </ng-container>

        <!-- action -->
        <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef>Action</th>
            <td mat-cell *matCellDef="let element">
                <div class="flex items-center gap-3">
                    <mat-icon
                        (click)="openModal(element)"
                        class="cursor-pointer text-blue-950"
                        >visibility</mat-icon
                    >
                    <mat-icon
                        (click)="deleteOrder(element.id)"
                        class="cursor-pointer text-red-500"
                        >delete</mat-icon
                    >
                </div>
            </td>
        </ng-container>

        <!-- Add the conditional class for the row -->
        <tr
            mat-header-row
            *matHeaderRowDef="displayedColumns"
        ></tr>
        <tr
            mat-row
            *matRowDef="let element; columns: displayedColumns"
            [ngClass]="{ 'deleted-row': element.isDelete }"
        ></tr>
    </table>

    <mat-paginator
        [pageSizeOptions]="[10, 20, 30]"
        showFirstLastButtons
        aria-label="Select page of periodic elements"
    ></mat-paginator>
</div>
